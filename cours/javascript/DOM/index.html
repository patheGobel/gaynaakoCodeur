<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exécution du code JavaScript</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <h1>Exécution du Code JavaScript</h1>
        <p>Comprendre comment le navigateur interprète et exécute le code</p>
    </header>

    <section class="event-section">
        <div>
            <h2>Un peu de JS</h2>
            <p>Exécute le code suivant :</p>

            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
<span class="code-tag">&lt;html lang="en"&gt;</span>
    <span class="code-tag">&lt;head&gt;</span>
    <span class="code-tag">&lt;title&gt;</span>Hello<span class="code-tag">&lt;/title&gt;</span>
    <span class="code-tag">&lt;script&gt;</span>
    alert(<span class="code-string">'Hello, world!'</span>);
    <span class="code-tag">&lt;/script&gt;</span>
<span class="code-tag">&lt;/head&gt;</span>
<span class="code-tag">&lt;body&gt;</span>
    <span class="code-tag">&lt;h1&gt;</span>Hello!<span class="code-tag">&lt;/h1&gt;</span>
<span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>

            <div class="explanation">
                <h3>Explication de l'exécution :</h3>

                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Chargement du document</strong> : Le navigateur commence à analyser le code HTML à
                            partir de la balise <code>&lt;!DOCTYPE html&gt;</code> qui indique qu'il s'agit d'un
                            document HTML5.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Ouverture de la balise &lt;html&gt;</strong> : Définit la racine du document HTML et
                            la langue (anglais dans ce cas).
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Section &lt;head&gt;</strong> : Le navigateur traite l'en-tête du document qui
                            contient les métadonnées.
                            <ul>
                                <li>Définition du titre de la page : "Hello"</li>
                                <li>Rencontre de la balise <code>&lt;script&gt;</code> : Le navigateur exécute
                                    immédiatement le code JavaScript qu'elle contient</li>
                            </ul>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Exécution de alert('Hello, world!')</strong> :
                            <ul>
                                <li>Une boîte de dialogue modale s'affiche avec le message "Hello, world!"</li>
                                <li>L'exécution du code HTML est suspendue jusqu'à ce que l'utilisateur clique sur "OK"
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Suite du chargement</strong> : Après avoir fermé l'alerte, le navigateur continue le
                            traitement du HTML
                            <ul>
                                <li>Le corps du document (<code>&lt;body&gt;</code>) est chargé</li>
                                <li>Le titre <code>&lt;h1&gt;Hello!&lt;/h1&gt;</code> est affiché dans la page</li>
                            </ul>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <strong>Fin du document</strong> : Les balises fermantes indiquent la fin du document HTML.
                        </div>
                    </div>
                </div>
            </div>
            <div class="important">
                <h3>Points importants à noter :</h3>
                <ul>
                    <li>Le code JavaScript est exécuté de manière <strong>synchrone</strong>, ce qui bloque le rendu du
                        reste de la page jusqu'à son exécution complète</li>
                    <li>La fonction <code>alert()</code> est une méthode d'affichage de boîte de dialogue native au
                        navigateur</li>
                    <li>Ce type d'exécution (script dans l'en-tête) est déconseillé pour les scripts volumineux car il
                        retarde l'affichage du contenu visible</li>
                    <li>Pour de meilleures pratiques, il est recommandé de placer les scripts à la fin du body ou
                        d'utiliser les attributs <code>async</code> ou <code>defer</code></li>
                </ul>
            </div>
        </div>
    </section>

    <section class="event-section">
        <div>
            <h2>Comprendre les Événements JavaScript</h2>

            <p>Dans cette section, nous allons explorer le concept d'<strong>événements</strong> en JavaScript.</p>

            <p>Reprenons notre exemple précédent. Au lieu d'afficher directement "Hello World" avec
                <code>alert()</code>,
                nous allons encapsuler cette fonctionnalité dans une fonction :
            </p>
            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
<span class="code-tag">&lt;html lang="en"&gt;</span>
    <span class="code-tag">&lt;head&gt;</span>
        <span class="code-tag">&lt;title&gt;</span>Hello<span class="code-tag">&lt;/title&gt;</span>
        <span class="code-tag">&lt;script&gt;</span>
        function hello(){
            alert(<span class="code-string">'Hello, world!'</span>);
            }
        <span class="code-tag">&lt;/script&gt;</span>
    <span class="code-tag">&lt;/head&gt;</span>
    <span class="code-tag">&lt;body&gt;</span>
        <span class="code-tag">&lt;h1&gt;</span>Hello!<span class="code-tag">&lt;/h1&gt;</span>
    <span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>

            <div class="highlight">
                <p>Maintenant, si nous exécutons ce code, rien ne se produira car la fonction <code>hello()</code> n'est
                    jamais
                    appelée. L'objectif est donc de faire en sorte que cette fonction s'exécute <strong>lorsqu'un
                        événement
                        spécifique se produit</strong> sur la page.</p>


                <p>On peut considérer cela comme un <strong>événement</strong>. Avec JavaScript, nous pouvons ajouter
                    des
                    <strong>écouteurs d'événements</strong> (event listeners) ou des <strong>gestionnaires
                        d'événements</strong> (event handlers).
                </p>

                <p>Ces mécanismes permettent de spécifier que <strong>lorsqu'un événement particulier se
                        produit</strong>,
                    un
                    <strong>bloc de code ou une fonction spécifique doit être exécuté</strong>.
                </p>

                <p>Grâce à cette approche, notre code JavaScript peut <strong>réagir aux interactions des
                        utilisateurs</strong>
                    avec notre page web. Par exemple, nous pouvons dire : "Lorsque l'utilisateur clique sur ce bouton,
                    j'aimerais exécuter cette fonction JavaScript".</p>

                <p>Appliquons ce concept à notre exemple. Au lieu d'afficher directement l'alerte "Hello World", je vais
                    placer
                    cette alerte <strong>à l'intérieur d'une fonction</strong>.</p>

                <p>Pour créer une fonction en JavaScript, on utilise le mot-clé <code>function</code> suivi du nom de la
                    fonction. J'ai choisi de nommer cette fonction <code>hello</code>. Entre parenthèses, on peut
                    éventuellement
                    spécifier des paramètres si la fonction nécessite des entrées.</p>
            </div>
            <div class="explanation">
                <h3>Explication de l'exécution :</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Définition de la fonction</strong> : Lorsque le navigateur charge la page et
                            rencontre
                            le
                            bloc <code>&lt;script&gt;</code>, il enregistre la fonction <code>hello()</code> en
                            mémoire mais
                            ne
                            l'exécute pas immédiatement.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Attente d'un événement</strong> : Contrairement à l'exemple précédent où
                            <code>alert()</code> était appelée directement, ici le code reste inactif jusqu'à ce
                            qu'un
                            événement
                            déclenche l'appel de la fonction.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Événement déclencheur</strong> : Pour que la fonction <code>hello()</code>
                            s'exécute,
                            nous
                            devons lier son appel à un événement spécifique (clic de souris, chargement de la
                            page, frappe
                            au
                            clavier, etc.).
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Exécution différée</strong> : L'exécution du code JavaScript est maintenant
                            conditionnée
                            à
                            la survenue d'un événement, ce qui permet une interaction dynamique avec
                            l'utilisateur plutôt
                            qu'une
                            exécution immédiate au chargement de la page.
                        </div>
                    </div>
                </div>
            </div>
            <div class="important">
                <h3>Points importants à noter :</h3>
                <ul>
                    <li>Définir une fonction ne signifie pas qu'elle sera exécutée automatiquement</li>
                    <li>Les fonctions JavaScript doivent être explicitement appelées pour s'exécuter</li>
                    <li>Les événements permettent de déclencher l'exécution de code en réponse aux actions des
                        utilisateurs
                    </li>
                    <li>La programmation événementielle est fondamentale pour créer des interfaces interactives</li>
                    <li>JavaScript offre plusieurs méthodes pour associer des fonctions à des événements (onclick,
                        addEventListener, etc.)</li>
                </ul>
            </div>
            <div class="conclusion">
                <p><strong>En résumé</strong> : En encapsulant le code dans une fonction sans l'appeler
                    directement,
                    nous
                    passons d'une exécution immédiate et bloquante à une exécution conditionnelle basée sur des
                    événements.
                    Cette approche est fondamentale pour créer des pages web interactives qui répondent aux
                    actions des
                    utilisateurs.</p>
            </div>
        </div>
    </section>
    <!--Boutton et appel de fonction-->
    <section class="event-section">
        <div>
            <h2>Appel de la fonction via le clic d'un bouton</h2>
            <div class="highlight">
                <p>
                    Ce que j'aimerais faire, c'est <strong>exécuter cette fonction lorsqu'il se passe quelque chose sur
                        la
                        page</strong>, par exemple quand un utilisateur clique sur un bouton.
                </p>
                <p>
                    Pour cela, la première chose à faire est de <strong>créer un bouton</strong>. Donc j'ajoute un
                    bouton
                    qui
                    dit simplement « Cliquez ici».
                    Si je rafraîchis la page, je vois maintenant le texte « Hello» et ce bouton « Cliquez ici».
                </p>
            </div>
            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
<span class="code-tag">&lt;html lang="en"&gt;</span>
    <span class="code-tag">&lt;head&gt;</span>
        <span class="code-tag">&lt;title&gt;</span>Hello<span class="code-tag">&lt;/title&gt;</span>
        <span class="code-tag">&lt;script&gt;</span>
        function hello(){
            alert(<span class="code-string">'Hello, world!'</span>);
            }
        <span class="code-tag">&lt;/script&gt;</span>
    <span class="code-tag">&lt;/head&gt;</span>
    <span class="code-tag">&lt;body&gt;</span>
        <span class="code-tag">&lt;h1&gt;</span>Hello!<span class="code-tag">&lt;/h1&gt;</span>
        <span class="code-tag">&lt;button&gt;</span>cliquez ici<span class="code-tag">&lt;/button&gt;</span>
    <span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>
            <div class="highlight">
                <p>
                    Mais quand je clique dessus, <strong>rien ne se passe</strong>, car je n'ai pas encore précisé ce
                    qui
                    doit
                    se produire quand l'utilisateur clique dessus.
                </p>
                <p>
                    Une manière de faire est <strong>d'ajouter un attribut à cet élément HTML</strong> appelé
                    <code>onclick</code>.
                    Cet attribut va définir un « gestionnaire de clic» pour le bouton, c'est-à-dire ce qui doit se
                    produire
                    quand l'utilisateur clique dessus.
                </p>
                <p>
                    Je vais donc définir l'attribut <code>onclick</code> de façon à <strong>exécuter la fonction
                        <code>hello</code></strong>.
                    Pour exécuter une fonction en JavaScript, on utilise simplement le nom de la fonction suivi de
                    parenthèses.
                    Le fait qu'il n'y ait rien entre les parenthèses signifie qu'on n'envoie aucun argument à la
                    fonction.
                </p>
            </div>
            <div class="code-container">
                <pre><code>
            <span class="code-tag">&lt;!DOCTYPE html&gt;</span>
            <span class="code-tag">&lt;html lang="en"&gt;</span>
                <span class="code-tag">&lt;head&gt;</span>
                    <span class="code-tag">&lt;title&gt;</span>Hello<span class="code-tag">&lt;/title&gt;</span>
                    <span class="code-tag">&lt;script&gt;</span>
                    <span style="color:yellow;">function hello(){</span>
                        alert(<span class="code-string">'Hello, world!'</span>);
                    <span style="color:yellow;">}</span>
                    <span class="code-tag">&lt;/script&gt;</span>
                <span class="code-tag">&lt;/head&gt;</span>
                <span class="code-tag">&lt;body&gt;</span>
                    <span class="code-tag">&lt;h1&gt;</span>Hello!<span class="code-tag">&lt;/h1&gt;</span>
                    <span class="code-tag">&lt;button</span> <span style="color:lightblue;">onclick="hello()"</span><span class="code-tag">&gt;</span>
                        cliquez ici
                    <span class="code-tag">&lt;/button&gt;</span>
                <span class="code-tag">&lt;/body&gt;</span>
            <span class="code-tag">&lt;/html&gt;</span>
                </code></pre>
            </div>
            <div class="highlight">
                <p>
                    Ainsi, j'ai lié les deux parties de la page: le bouton « Cliquez ici» et l'attribut
                    <code>onclick</code>
                    qui dit:
                    « quand tu cliques, exécute la fonction <code>hello</code>.»
                </p>
                <p>
                    Un peu plus haut, j'ai défini la fonction <code>hello</code>, et celle-ci dit simplement:
                    <strong>quand
                        la
                        fonction est appelée, affiche une alerte disant « Hello world».</strong>
                </p>
                <p>
                    Maintenant, si je clique sur le bouton, une alerte apparaît. À chaque clic, la fonction
                    <code>hello</code>
                    est rappelée et l'alerte s'affiche à nouveau.
                </p>
            </div>
            <div class="explanation">
                <h3>Explication de l'exécution :</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Définition de la fonction</strong> : Lors du chargement de la page, le navigateur
                            enregistre la fonction <code>hello()</code> en mémoire mais ne l'exécute pas encore.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Affichage du bouton</strong> : Le bouton "Cliquez ici" est rendu dans la page, mais
                            sans
                            comportement interactif initial.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Liaison de l'événement</strong> : L'attribut <code>onclick="hello()"</code> associe
                            le
                            clic du bouton à l'exécution de la fonction <code>hello()</code>.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Attente d'interaction</strong> : Le code reste inactif jusqu'à ce que l'utilisateur
                            clique sur le bouton.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Déclenchement par l'utilisateur</strong> : Lorsque l'utilisateur clique sur le
                            bouton,
                            le navigateur détecte l'événement de clic.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <strong>Exécution de la fonction</strong> : L'événement de clic déclenche l'appel de la
                            fonction
                            <code>hello()</code>, qui affiche alors la boîte d'alerte "Hello, world!".
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <strong>Réitération</strong> : Chaque clic ultérieur sur le bouton déclenche à nouveau
                            l'exécution de la fonction <code>hello()</code>.
                        </div>
                    </div>
                </div>
            </div>
            <div class="important">
                <h3>Points importants à noter :</h3>
                <ul>
                    <li>Définir une fonction JavaScript ne suffit pas à l'exécuter - elle doit être explicitement
                        appelée
                    </li>
                    <li>L'attribut HTML <code>onclick</code> permet de lier directement un événement de clic à une
                        fonction
                    </li>
                    <li>Pour appeler une fonction, on utilise son nom suivi de parenthèses : <code>hello()</code></li>
                    <li>Les parenthèses vides indiquent qu'aucun argument n'est passé à la fonction</li>
                    <li>Cette approche permet une séparation claire entre la définition du comportement (JavaScript) et
                        son
                        déclenchement (HTML)</li>
                    <li>Chaque interaction utilisateur avec le bouton déclenche une nouvelle exécution de la fonction
                    </li>
                    <li>L'utilisation d'<code>onclick</code> dans le HTML est une méthode simple mais d'autres approches
                        existent pour gérer les événements</li>
                </ul>
            </div>
            <div class="conclusion">
                <p><strong>En résumé</strong> : Nous avons vu comment transformer du code JavaScript exécuté
                    automatiquement en une fonction déclenchée par l'interaction utilisateur. En encapsulant notre
                    alerte dans une fonction <code>hello()</code> et en la liant à un événement de clic via l'attribut
                    <code>onclick</code>, nous passons d'une exécution immédiate et bloquante à une exécution
                    conditionnelle et interactive. Cette approche fondamentale de la programmation événementielle permet
                    de créer des pages web dynamiques qui répondent aux actions des utilisateurs plutôt que de
                    simplement s'exécuter de manière linéaire.
                </p>
            </div>
        </div>
    </section>
    <!--Variable Comptons-->
    <section class="event-section">
        <div>
            <h2>Les Variables en JavaScript</h2>
            <div class="highlight">
                <p>Jusqu'à présent, nous avons exploré différents concepts :</p>
                <ul>
                    <li>Les types de données comme les chaînes de caractères (strings) : <code>"Hello, world"</code>
                    </li>
                    <li>Les fonctions intégrées à JavaScript comme <code>alert()</code></li>
                    <li>Les fonctions personnalisées que nous créons nous-mêmes comme <code>hello()</code></li>
                </ul>
                <p>Maintenant, nous allons découvrir comment utiliser des <strong>variables</strong> dans nos
                    programmes.</p>
                <p>Mais à quoi cela peut-il ressembler concrètement ?</p>
                <p>Créons un fichier <code>counter.html</code> contenant un bouton pour compter (1, 2, 3, 4...) à chaque
                    fois que l'utilisateur clique dessus.</p>
            </div>

            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
    <span class="code-tag">&lt;html lang="fr"&gt;</span>
        <span class="code-tag">&lt;head&gt;</span>
            <span class="code-tag">&lt;title&gt;</span>Compteur<span class="code-tag">&lt;/title&gt;</span>
            <span class="code-tag">&lt;script&gt;</span>
            let counter = 0;
            
            function count() {
                counter++;
                alert(counter);
            }
            <span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;/head&gt;</span>
        <span class="code-tag">&lt;body&gt;</span>
            <span class="code-tag">&lt;h1&gt;</span>Compteur!<span class="code-tag">&lt;/h1&gt;</span>
            <span class="code-tag">&lt;button onclick="count()"&gt;</span>
                Compter
            <span class="code-tag">&lt;/button&gt;</span>
        <span class="code-tag">&lt;/body&gt;</span>
    <span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>

            <div class="highlight">
                <p>À chaque fois que vous cliquez sur le bouton "Compter", la valeur du compteur s'incrémente et le
                    résultat s'affiche dans une boîte de dialogue.</p>
                <p>Vous remarquerez que le résultat s'affiche dans une alerte mais pas directement sur la page. Notre
                    prochain objectif sera d'afficher cette valeur directement sur la page web plutôt que dans une boîte
                    de dialogue.</p>
            </div>

            <div class="important">
                <h3>Points importants à noter :</h3>
                <ul>
                    <li>La variable <code>counter</code> est déclarée avec <code>let</code> et initialisée à 0</li>
                    <li>L'opérateur <code>++</code> incrémente la valeur de la variable de 1 à chaque appel</li>
                    <li>La variable conserve sa valeur entre les appels de fonction grâce à sa portée globale</li>
                    <li>Lorsqu'on clique sur "OK" dans la boîte d'alerte, le compteur garde sa valeur actuelle pour le
                        prochain clic</li>
                    <li>Nous utilisons <code>alert()</code> pour afficher la valeur, mais ce n'est pas idéal pour
                        l'expérience utilisateur</li>
                    <li>Chaque nouvelle alerte interrompt l'interaction avec la page, ce qui peut être frustrant pour
                        l'utilisateur</li>
                    <li>Une meilleure approche serait d'afficher la valeur directement dans la page web</li>
                </ul>
            </div>
            <div class="problem">
                <h3>Limites et contraintes de l'approche actuelle :</h3>
                <p>Quand l'utilisateur interagit avec la page, cette méthode devient rapidement frustrante. Si la seule
                    chose que nous pouvons faire est d'afficher des alertes avec un simple bouton "OK", l'expérience
                    utilisateur se sent très limitée.</p>

                <p>Les boîtes de dialogue alert :</p>
                <ul>
                    <li>Interrompent le flux de navigation</li>
                    <li>Nécessitent une action manuelle (clic sur "OK") pour disparaître</li>
                    <li>Ne permettent pas une interaction fluide avec la page</li>
                    <li>Offrent des possibilités très restreintes en termes d'interface</li>
                </ul>

                <p>Il serait bien plus intéressant, puissant et utile si nous pouvions :</p>
                <ul>
                    <li>Modifier directement le contenu de la page web</li>
                    <li>Changer des éléments que l'utilisateur voit sur la page</li>
                    <li>Créer des interactions fluides sans interruptions</li>
                    <li>Mettre à jour dynamiquement l'interface sans rechargement</li>
                </ul>

                <p>Comment atteindre cet objectif ? C'est exactement ce que nous allons découvrir dans la section
                    suivante.</p>
            </div>
        </div>
    </section>
    <!--QuerySelector et DOM-->
    <section class="event-section">
        <div>
            <h2>Manipulation du DOM</h2>
            <div class="highlight">
                <p>JavaScript va nous permettre d'arriver à nos fins en manipulant le DOM (Document Object Model) qui
                    représente tous les éléments que nous avons dans notre page web.</p>
                <p>Le DOM est une interface qui permet à JavaScript d'interagir avec le contenu, la structure et le
                    style de la page.</p>
                <p>Pour y arriver, considérez le code suivant :</p>
            </div>

            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
<span class="code-tag">&lt;html lang="en"&gt;</span>
    <span class="code-tag">&lt;head&gt;</span>
        <span class="code-tag">&lt;title&gt;</span>Hello<span class="code-tag">&lt;/title&gt;</span>
        <span class="code-tag">&lt;script&gt;</span>
        function hello(){
            alert(<span class="code-string">'Hello, world!'</span>);
            }
        <span class="code-tag">&lt;/script&gt;</span>
    <span class="code-tag">&lt;/head&gt;</span>
    <span class="code-tag">&lt;body&gt;</span>
        <span class="code-tag">&lt;h1&gt;</span>Hello!<span class="code-tag">&lt;/h1&gt;</span>
        <span class="code-tag">&lt;button onclick="hello()"&gt;</span>
        click ici
    <span class="code-tag">&lt;/button&gt;</span>
    <span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>

            <div class="highlight">
                <p>Maintenant, au lieu d'utiliser la fonction <code>alert()</code>, je vais manipuler directement un
                    élément sur la page. Comment vais-je procéder ?</p>

                <p>J'ai un titre <code>&lt;h1&gt;Hello!&lt;/h1&gt;</code> et mon objectif est de le changer en
                    <code>&lt;h1&gt;Goodbye!&lt;/h1&gt;</code>. Cette modification sera effectuée par une fonction
                    JavaScript.
                </p>

                <p>Concentrons-nous sur la partie <code>&lt;script&gt;&lt;/script&gt;</code> de notre code HTML. Nous
                    allons utiliser <code>document.querySelector()</code>.</p>

                <p>Que fait <code>document.querySelector()</code> ? Cette méthode nous permet de parcourir notre page
                    web et de sélectionner un élément spécifique. Je vais donc sélectionner le premier élément
                    <code>h1</code> avec <code>document.querySelector('h1')</code>.
                </p>

                <p>Ainsi, l'élément <code>&lt;h1&gt;Hello!&lt;/h1&gt;</code> est bien ciblé. Pour le modifier, j'utilise
                    la propriété <code>innerHTML</code> :</p>

                <p><code>document.querySelector('h1').innerHTML = 'Goodbye!';</code></p>

                <p>Cette instruction remplace le contenu HTML de l'élément sélectionné par le nouveau texte spécifié.
                </p>
                <p>voici ce que devient notre code en gros:</p>
            </div>
            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
<span class="code-tag">&lt;html lang="en"&gt;</span>
    <span class="code-tag">&lt;head&gt;</span>
        <span class="code-tag">&lt;title&gt;</span>Hello<span class="code-tag">&lt;/title&gt;</span>
        <span class="code-tag">&lt;script&gt;</span>
        function hello(){
            document.querySelector('h1').innerHTML = 'Goodbye';
            }
        <span class="code-tag">&lt;/script&gt;</span>
    <span class="code-tag">&lt;/head&gt;</span>
    <span class="code-tag">&lt;body&gt;</span>
        <span class="code-tag">&lt;h1&gt;</span>Hello!<span class="code-tag">&lt;/h1&gt;</span>
        <span class="code-tag">&lt;button onclick="hello()"&gt;</span>
        click ici
    <span class="code-tag">&lt;/button&gt;</span>
    <span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>
            <div class="important">
                <h3>Points importants à noter :</h3>
                <ul>
                    <li>Quand nous chargeons la page, nous avons un élément <code>&lt;h1&gt;</code> (heading de niveau
                        1) qui affiche simplement "Hello!"</li>
                    <li>Quand la fonction <code>hello()</code> est appelée (lorsqu'on clique sur le bouton), elle
                        exécute les opérations suivantes :</li>
                    <li><code>document.querySelector('h1')</code> permet de sélectionner le premier élément
                        <code>&lt;h1&gt;</code> de la page
                    </li>
                    <li>La propriété <code>innerHTML</code> est utilisée pour modifier le contenu HTML de l'élément
                        sélectionné</li>
                    <li>La ligne <code>document.querySelector('h1').innerHTML = 'Goodbye!';</code> remplace le texte
                        "Hello!" par "Goodbye!"</li>
                    <li>Cette modification est permanente (jusqu'au prochain rechargement de la page) et visible
                        immédiatement</li>
                    <li>Contrairement à <code>alert()</code>, cette approche ne bloque pas l'interaction avec la page
                    </li>
                </ul>
            </div>
            <div class="problem">
                <h3>Problème d'interaction :</h3>
                <p>Vous voyez que quand je clique une deuxième fois sur le bouton "Cliquez ici", rien ne se passe.</p>

                <p>Ce que j'aimerais pouvoir faire, c'est qu'à chaque fois que je clique sur le bouton "Cliquez ici",
                    je puisse alterner entre "Hello!" et "Goodbye!".</p>

                <p>Actuellement, la fonction remplace toujours le texte par "Goodbye!", mais elle ne vérifie pas
                    l'état actuel du texte pour décider quoi afficher.</p>
                <p>Vouyons comment implémenter cette solution dans la section suivante.</p>
            </div>
        </div>
    </section>
    <section class="event-section">
        <div>
            <div>
                <h2>Alterner entre hello et Goodbye</h2>
            </div>
            <div class="highlight">
                <p>Pour résoudre ce problème, nous aurons besoin de :</p>
                <ul>
                    <li>Vérifier le contenu actuel de l'élément h1</li>
                    <li>Utiliser une condition pour décider quel texte afficher</li>
                    <li>Implémenter une logique d'alternance (toggle)</li>
                </ul>

                <p>La logique à implémenter est :</p>
                <p><strong>Si le contenu du h1 est "Hello!", alors le changer en "Goodbye!"</strong></p>
                <p><strong>Sinon, le changer en "Hello!"</strong></p>

                <p>Voici comment nous pouvons coder cette solution :</p>
            </div>

            <div class="code-container">
                <pre><code><span class="code-tag">&lt;script&gt;</span>
    function hello() {
        if (document.querySelector('h1').innerHTML === 'Hello!') {
            document.querySelector('h1').innerHTML = 'Goodbye!';
        } else {
                document.querySelector('h1').innerHTML = 'Hello!';
        }
    }
<span class="code-tag">&lt;/script&gt;</span></code></pre>
            </div>

            <div class="explanation">
                <h3>Explication du code :</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Sélection et vérification</strong> : On utilise
                            <code>document.querySelector('h1').innerHTML</code> pour accéder directement au contenu du
                            h1 et
                            le comparer à "Hello!"
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Condition</strong> : Si le contenu est "Hello!", on le remplace par "Goodbye!" en
                            utilisant <code>document.querySelector('h1').innerHTML = 'Goodbye!'</code>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Alternative</strong> : Si le contenu n'est pas "Hello!" (donc "Goodbye!"), on le
                            remet à
                            "Hello!"
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Résultat</strong> : À chaque clic, le texte alterne entre "Hello!" et "Goodbye!"
                        </div>
                    </div>
                </div>
            </div>
            <div class="problem">
                <h3>Problème de répétition :</h3>
                <p>Nous remarquons une répétition dans notre code avec l'utilisation multiple de
                    <code>document.querySelector('h1')</code>.
                </p>

                <p>Cette approche présente plusieurs inconvénients :</p>
                <ul>
                    <li>Le code est moins lisible à cause de la répétition</li>
                    <li>Chaque appel à <code>document.querySelector()</code> effectue une nouvelle recherche dans le DOM
                    </li>
                    <li>Si nous devions changer le sélecteur, il faudrait le modifier à plusieurs endroits</li>
                    <li>Le code est moins performant car il recherche l'élément à chaque fois</li>
                </ul>

                <p>Pour résoudre ce problème, je vais déclarer une variable pour stocker la référence à l'élément :</p>
            </div>
        </div>
    </section>

    <section class="event-section">
        <div>
            <div>
                <h2>factorisation du code</h2>
            </div>
            <div class="highlight">
                <p>Nous avons trois appels différents à <code>querySelector</code> dans notre code. Nous pouvons
                    améliorer la conception de cette fonction en factorisant le code :</p>

                <p>Plutôt que de rechercher l'élément <code>h1</code> à chaque fois que nous en avons besoin, nous
                    pouvons le chercher une seule fois et le stocker dans une variable pour le manipuler ensuite.</p>

                <p>Cette approche offre plusieurs avantages : meilleures performances, code plus lisible et plus facile
                    à maintenir.</p>
            </div>

            <div class="code-container">
                <pre><code><span class="code-tag">&lt;script&gt;</span>
    function hello() {
        const title = document.querySelector('h1');
                
            if (title.innerHTML === 'Hello!') {
                title.innerHTML = 'Goodbye!';
            } else {
            title.innerHTML = 'Hello!';
                }
        }
<span class="code-tag">&lt;/script&gt;</span></code></pre>
            </div>

            <div class="explanation">
                <h3>Note importante sur <code>const</code> et la mutabilité :</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong><code>const</code> protège la référence, pas le contenu</strong> :
                            <code>const title = document.querySelector('h1');</code> signifie que la variable
                            <code>title</code> ne peut pas être réassignée à un autre élément DOM.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Ce qui est interdit</strong> :
                            <div class="code-container">
                                <pre><code>// ❌ Erreur: Réassignation impossible
            title = document.querySelector('p');</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Ce qui est permis</strong> :
                            <div class="code-container">
                                <pre><code>// ✅ Valide: Modification du contenu de l'élément
            title.innerHTML = 'Goodbye!';
            title.style.color = 'red';
            title.classList.add('active');</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Analogique</strong> : Imaginez que <code>const</code> verrouille la boîte (la
                            variable) mais pas son contenu (les propriétés de l'élément DOM). Vous pouvez modifier ce
                            qu'il y a dans la boîte, mais pas changer la boîte elle-même.
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Pourquoi cette distinction est importante</strong> : Cela nous permet de protéger la
                            référence à notre élément tout en ayant la flexibilité de modifier son apparence et son
                            contenu selon les besoins interactifs de notre application.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--Compter Encore-->
    <section class="event-section">
        <div>
            <div>
                <h2>Améliorons notre programme qui compte</h2>
            </div>
            <div class="highlight">
                <p>En utilisant cette compétence qui consiste à manipuler le DOM, nous allons améliorer le code qui nous
                    permettait de compter.</p>
            </div>
            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
    <span class="code-tag">&lt;html lang="fr"&gt;</span>
        <span class="code-tag">&lt;head&gt;</span>
            <span class="code-tag">&lt;title&gt;</span>Compteur<span class="code-tag">&lt;/title&gt;</span>
            <span class="code-tag">&lt;script&gt;</span>
            let counter = 0;
            
            function count() {
                counter++;
                document.querySelector('h1').innerHTML = counter;
            }
            <span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;/head&gt;</span>
        <span class="code-tag">&lt;body&gt;</span>
            <span class="code-tag">&lt;h1&gt;</span>0<span class="code-tag">&lt;/h1&gt;</span>
            <span class="code-tag">&lt;button onclick="count()"&gt;</span>
                Compter
            <span class="code-tag">&lt;/button&gt;</span>
        <span class="code-tag">&lt;/body&gt;</span>
    <span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>

            <div class="explanation">
                <h3>Explication du fonctionnement :</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Initialisation</strong> : La variable <code>counter</code> est initialisée à 0 au
                            chargement de la page
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Affichage initial</strong> : Le h1 affiche "0" correspondant à la valeur initiale du
                            compteur
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Incrimination au clic</strong> : À chaque clic sur le bouton, <code>counter++</code>
                            augmente la valeur de 1
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Mise à jour visuelle</strong> :
                            <code>document.querySelector('h1').innerHTML = counter</code> met à jour l'affichage avec la
                            nouvelle valeur
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Persistance</strong> : La variable <code>counter</code> conserve sa valeur entre les
                            clics grâce à sa portée globale
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--Les Condition-->
    <section class="event-section">
        <div>
            <div>
                <h1>Les Conditions</h1>
                <p>Nous allons faire en sorte que lorsque le compteur atteint 10, une alerte s'affiche</p>
            </div>
            <div class="highlight">
                <p>Pour implémenter cette fonctionnalité, nous allons utiliser une condition <code>if</code> qui vérifie
                    si le compteur est exactement égal à 10.</p>
                <p>Quand cette condition est vraie, nous afficherons une alerte avec un template literal pour inclure la
                    valeur dynamique.</p>
            </div>
            <div class="code-container">
                <pre><code><span class="code-tag">&lt;script&gt;</span>
    let counter = 0;
    
    function count() {
        counter++;
        
        if (counter === 10) {
            alert(`Le compteur est à ${counter} maintenant`);
        }
        
        document.querySelector('h1').innerHTML = counter;
    }
    <span class="code-tag">&lt;/script&gt;</span></code></pre>
            </div>
            <div class="explanation">
                <h3>Explication du code :</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Vérification conditionnelle</strong> : <code>if (counter === 10)</code> vérifie si
                            le compteur est exactement égal à 10
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Template literal</strong> : Les backticks `` ` `` permettent d'utiliser
                            <code>${counter}</code> pour insérer dynamiquement la valeur dans la chaîne
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Alert contextuelle</strong> :
                            <code>alert(`Le compteur est à ${counter} maintenant`)</code> affiche un message
                            personnalisé avec la valeur actuelle
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>Avantage des templates literals</strong> : Plus lisible que la concaténation
                            traditionnelle <code>"Le compteur est à " + counter + " maintenant"</code>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Comportement</strong> : L'alerte n'interrompt le décompte qu'à 10, puis le compteur
                            continue normalement
                        </div>
                    </div>
                </div>
            </div>
            <div class="problem">
                <p>Alors, quelles améliorations peut-on apporter ? Quels changements peut-on faire pour améliorer la
                    conception ?</p>

                <p>Eh bien, une chose importante, surtout à mesure que nos programmes deviennent un peu plus
                    sophistiqués et un peu plus complexes, c'est que nous ne voulons pas toujours mélanger notre code
                    JavaScript avec le contenu de notre HTML.</p>

                <p>Ici en bas, nous avons <code>&lt;button onclick="count()"&gt;</code>, c'est-à-dire un bouton avec
                    l'attribut onclick qui appelle une fonction. Mais à mesure que notre page devient plus compliquée,
                    cela peut vite devenir ennuyeux si nous devons constamment maintenir du code JavaScript directement
                    dans notre HTML, par exemple en appelant une fonction dans une balise.</p>

                <p>On verra un peu plus tard qu'il existe d'autres paradigmes qui encouragent ce type de pratique, mais
                    pour l'instant, cela peut être considéré comme une mauvaise conception, surtout si nous voulons
                    vraiment séparer le code JavaScript de la structure HTML de notre page.</p>
            </div>
        </div>
    </section>
    <!--Aulieu de Selec('h1') Selec('button')-->
    <section class="event-section">
        <div>
            <h2>Séparation du JavaScript et du body </h2>

            <div class="highlight">
                <p>Heureusement, il existe des manières de faire cela. Par exemple, je peux ajouter un écouteur
                    d'événement (event listener) directement dans le JavaScript. Je peux ajouter dans le "script script"
                    : <code>document.querySelector("button").onclick = count;</code></p>
                <p>Et je supprime <code>onclick = count()</code> dans le boutton </p> ainsi le code devient :
            </div>
            <div class="code-container">
                <pre><code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
    <span class="code-tag">&lt;html lang="fr"&gt;</span>
        <span class="code-tag">&lt;head&gt;</span>
            <span class="code-tag">&lt;title&gt;</span>Compteur<span class="code-tag">&lt;/title&gt;</span>
            <span class="code-tag">&lt;script&gt;</span>
            let counter = 0;
    
            function count() {
                counter++;
                
                if (counter === 10) {
                    alert(`Le compteur est à ${counter} maintenant`);
                }
                
                document.querySelector('h1').innerHTML = counter;
            }
            document.querySelector("button").onclick = count;
            <span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;/head&gt;</span>
        <span class="code-tag">&lt;body&gt;</span>
            <span class="code-tag">&lt;h1&gt;</span>0<span class="code-tag">&lt;/h1&gt;</span>
            <span class="code-tag">&lt;button&gt;</span>Compter<span class="code-tag">&lt;/button&gt;</span>
        <span class="code-tag">&lt;/body&gt;</span>
    <span class="code-tag">&lt;/html&gt;</span></code></pre>
            </div>
            <div class="highlight">
                Ce que je dis maintenant, c'est : « document.querySelector("button") »,
                autrement dit « trouve-moi le bouton sur la page ». Comme il n'y en a qu'un, cela fonctionne très bien ;
                s'il y en avait plusieurs, je devrais être plus précis.
                Une fois que j'ai récupéré ce bouton, j'accède à sa propriété <code>onclick</code>
                et je la définis sur <code>count</code>.
                Mais qu'est-ce que <code>count</code> ?
                Eh bien, <code>count</code> est une fonction. Autrement dit, je dis que la valeur de la propriété
                <code>onclick</code> du bouton doit être cette fonction.
                Ainsi, chaque fois que l'on cliquera sur le bouton, c'est la fonction <code>count</code>
                qui sera exécutée.
            </div>
            <div class="highlight">
                Remarquez que je n'appelle pas réellement la fonction.
                Ce n'est pas <code>count()</code> avec des parenthèses, ce qui exécuterait la fonction et utiliserait sa
                valeur de retour comme valeur pour <code>onclick</code>.
                Ici, je définis directement <code>onclick</code> sur la fonction <code>count</code> elle-même, sans
                l'appeler.

                Cela signifie que la fonction <code>count</code> ne sera exécutée que lorsque le bouton sera cliqué, et
                uniquement à ce moment-là.
                En JavaScript, les fonctions peuvent être traitées comme des valeurs à part entière : on peut les
                affecter à une variable, tout comme une chaîne de caractères, un nombre, ou même un élément HTML obtenu
                avec <code>document.querySelector</code>.

                On peut donc stocker une fonction dans une variable, comme <code>count</code>, et la transmettre comme
                une valeur.
                C'est ce que l'on appelle en général la <b>programmation fonctionnelle</b>, où les fonctions sont
                manipulées comme n'importe quelle autre donnée.
            </div>
            <div class="code-container">
                <pre><code>
            1  <span class="code-tag">&lt;!DOCTYPE html&gt;</span>
            2  <span class="code-tag">&lt;html lang="fr"&gt;</span>
            3      <span class="code-tag">&lt;head&gt;</span>
            4          <span class="code-tag">&lt;title&gt;</span>Compteur<span class="code-tag">&lt;/title&gt;</span>
            5         <span class="code-tag">&lt;script&gt;</span>
            6         let counter = 0;
            7
            8         function count() {
            9             counter++;
            10             
            11             if (counter === 10) {
            12                 alert(`Le compteur est à ${counter} maintenant`);
            13             }
            14             
            15             document.querySelector('h1').innerHTML = counter;
            16         }
            17
            18         document.querySelector("button").onclick = count;
            19         <span class="code-tag">&lt;/script&gt;</span>
            20      <span class="code-tag">&lt;/head&gt;</span>
            21      <span class="code-tag">&lt;body&gt;</span>
            22          <span class="code-tag">&lt;h1&gt;</span>0<span class="code-tag">&lt;/h1&gt;</span>
            23          <span class="code-tag">&lt;button&gt;</span>Compter<span class="code-tag">&lt;/button&gt;</span>
            24
            25     <span class="code-tag">&lt;/body&gt;</span>
            26 <span class="code-tag">&lt;/html&gt;</span>
                </code></pre>
            </div>

            <div class="problem">
                Si je lance le programme rien ne semble se passer si clique sur le boutton, le compteur n'augment pas.
                Alors, pourquoi ? Chaque fois que vous rencontrez un problème en JavaScript où le comportement attendu
                n'apparaît pas, il peut être utile de consulter la console JavaScript.

                La console JavaScript est léquivalent de la fenêtre de terminal.
                La console JavaScript affiche les informations de log et les erreurs liées à votre code.

                Dans Chrome, on peut y accéder en allant dans « Inspecter » puis en ouvrant l'onglet « Console ».
                dans notre cas, on voit une erreur : <i>Uncaught TypeError</i>, qui indique que l'on ne peut pas définir
                la
                propriété <code>onclick</code> de <code>null</code>, à la ligne 18 du fichier <i>counter.html</i>.

                Cela signifie que le problème vient de cette ligne.
                Concrètement, le code essaie d'accéder à la propriété <code>onclick</code> d'un objet qui vaut
                <code>null</code> (c'est-à-dire « rien » en JavaScript, un élément inexistant).

                En regardant la ligne 18, on voit :
                <code>document.querySelector("button").onclick = count;</code>

                L'erreur dit que <code>querySelector("button")</code> renvoie <code>null</code>.
                Or, pourquoi renverrait-il <code>null</code> alors qu'il y a bien un bouton plus <b>bas</b> dans le code
                HTML ?

                En réalité, le navigateur lit le fichier de haut en bas.
                Quand il arrive à la ligne 18, il exécute le JavaScript avant même que le bouton (plus bas dans le HTML)
                ne soit chargé dans le DOM.
                Résultat : au moment de chercher le bouton, celui-ci n'existe pas encore dans la page, et la fonction
                renvoie <code>null</code>.

                Pour résoudre ce problème, il faut s'assurer que le code qui sélectionne le bouton n'est exécuté qu'une
                fois que le DOM (le contenu de la page) est complètement chargé.
                Plusieurs stratégies existent pour cela.
            </div>
        </div>
    </section>
    <!--addEventListener-->
    <section class="event-section">
        <div>
            <h2>addEventListener</h2>
            <div class="highlight">
                Une première solution consiste à déplacer la balise <code>&lt;script&gt;</code>
                en bas du <code>&lt;body&gt;</code>, afin qu'après avoir défini le bouton « Compter »,
                le script puisse ensuite accéder à ce bouton et le trouver sans problème.
            </div>
            <div class="code-container">
                <pre><code>
            1  <span class="code-tag">&lt;!DOCTYPE html&gt;</span>
            2  <span class="code-tag">&lt;html lang="fr"&gt;</span>
            3      <span class="code-tag">&lt;head&gt;</span>
            4          <span class="code-tag">&lt;title&gt;</span>Compteur<span class="code-tag">&lt;/title&gt;</span>
            5      <span class="code-tag">&lt;/head&gt;</span>
            6      <span class="code-tag">&lt;body&gt;</span>
            7          <span class="code-tag">&lt;h1&gt;</span>0<span class="code-tag">&lt;/h1&gt;</span>
            8          <span class="code-tag">&lt;button&gt;</span>Compter<span class="code-tag">&lt;/button&gt;</span>
            9
            10     <span class="code-tag">&lt;/body&gt;</span>
            11         <span class="code-tag">&lt;script&gt;</span>
            12         let counter = 0;
            13
            14         function count() {
            15            counter++;
            16             
            17             if (counter === 10) {
            18                 alert(`Le compteur est à ${counter} maintenant`);
            19             }
            20             
            21             document.querySelector('h1').innerHTML = counter;
            22         }
            23
            24         document.querySelector("button").onclick = count;
            25         <span class="code-tag">&lt;/script&gt;</span>
            26 <span class="code-tag">&lt;/html&gt;</span>
                </code></pre>
            </div>
            <div class="highlight">
                Une autre solution, plus courante, consiste à ajouter un <b>écouteur d'événement</b>
                (event listener) au <b>document entier</b>, et non pas directement au bouton.<br>

                <strong style="color:red;"><code>document</code> est une variable intégrée en JavaScript qui fait
                    référence à l'ensemble du document web</strong>. On peut déjà utiliser
                <code>document.querySelector</code> pour rechercher des éléments comme un bouton ou une balise
                <code>&lt;h1&gt;</code>, mais on peut également attacher un event listener directement au document.

                Pour cela, on écrit : <code>document.addEventListener(...)</code>

                La méthode <code>addEventListener</code> prend <b>deux arguments</b> :
                <ul>
                    <li><b>L'événement à écouter :</b> par exemple <code>click</code> pour un clic,
                        ou <code>scroll</code> pour un défilement. Ici, nous allons écouter
                        <code>DOMContentLoaded</code>, qui se déclenche lorsque le DOM
                        (Document Object Model) est entièrement chargé, c'est-à-dire lorsque tous
                        les éléments de la page sont prêts.<br>
                    </li>
                    <li><b>La fonction à exécuter :</b> on peut passer le nom d'une fonction existante
                        ou écrire directement une <b>fonction anonyme</b> à l'intérieur de l'argument.
                        Une fonction anonyme n'a pas de nom mais peut tout de même être utilisée
                        comme argument.</li>
                </ul>

                Exemple de syntaxe :
                <pre style="color:blue"><code>
            document.addEventListener("DOMContentLoaded", function() {
                // code à exécuter lorsque le DOM est complètement chargé
            });
                </code></pre>

                ⚠️ <b>Attention :</b> il est important de comprendre la différence entre
                <code>count</code> et <code>count()</code> et pourquoi ils ne permettent pas
                d'incrémenter le compteur au clic :

                <pre style="color:blue"><code>
            document.addEventListener("DOMContentLoaded", count)
            document.addEventListener("DOMContentLoaded", count())
                </code></pre>

                <ul>
                    <li>
                        <code>count</code> (sans parenthèses) passe la fonction elle-même comme "recette" à exécuter
                        <u>une seule fois</u> lorsque le DOM est prêt.
                        ⚠️ Mais cela ne relie pas la fonction au bouton ! Cliquer sur le bouton ne fera rien.
                    </li>

                    <li>
                        <code>count()</code> (avec parenthèses) exécute immédiatement la fonction au moment où le script
                        est lu.
                        Le compteur s'incrémente une fois tout de suite, et <code>addEventListener</code> reçoit le
                        résultat
                        de la fonction (souvent <code>undefined</code>), donc rien ne se passe au clic.
                    </li>
                </ul>

                👉 <b>En résumé :</b> pour que le compteur s'incrémente au clic sur le bouton, il faut
                encapsuler l'attachement de l'événement dans une fonction passée à <code>DOMContentLoaded</code> :
                <pre style="color:blue"><code>
            document.addEventListener("DOMContentLoaded", function() {
                document.querySelector("button").addEventListener("click", count);
            });
                </code></pre>
                ou
                <pre style="color:blue"><code>
                    document.addEventListener("DOMContentLoaded", function() {
                        document.querySelector("button").onclick=count;
                    });
                        </code></pre>
            </div>

        </div>
        <div class="exercise">
            <h3>Exercice pratique</h3>
            <p>
                Reprenez le compteur que nous venons de voir et améliorez-le de la manière suivante :
            </p>
            <ul>
                <li>Ajoutez un deuxième bouton intitulé <code>Réinitialiser</code> qui remet le compteur à 0.</li>
                <li>Utilisez <code>addEventListener</code> pour attacher un événement <code>click</code> à ce bouton.
                </li>
                <li>Assurez-vous que tout le code qui manipule les boutons se trouve à l'intérieur d'un
                    <code>DOMContentLoaded</code>, pour éviter les erreurs si le script est dans le
                    <code>&lt;head&gt;</code>.
                </li>
                <li>Testez votre page pour vérifier que le bouton <code>Compter</code> incrémente toujours le compteur
                    et que le bouton <code>Réinitialiser</code> le remet à zéro.</li>
            </ul>
            <p>
                💡 Astuce : vous pouvez utiliser <code>document.querySelectorAll("button")[1]</code> pour sélectionner
                le deuxième bouton si vous n'avez pas donné d'id.
            </p>
        </div>

    </section>
    <section class="event-section">
        <div>
            <h2>Séparation du JavaScript et du HTML</h2>
            <div class="highlight">
                <p>Le code Js est en train de grandir, nous allon le séparer du fichier html comme on avait fait avec
                    css
                </p>
            </div>

        </div>
    </section>
</body>

</html>